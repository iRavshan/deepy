{% extends '../shared/_base.html' %}
{% block title %} Kurslar {% endblock %}
{% block content %}
{% load static %}
{% load i18n %}
{% if enrolled_courses %}
<main class="container">
  <h1 class="page-title">Your courses</h1>
  <div class="course-grid">
    {% for course in enrolled_courses %}
    <div class="course-card">
      <div class="card-header">
        <i class="fa-solid fa-earth-americas"></i>
      </div>
      <div class="card-body">
        <a href="{% url 'course_detail' course.slug %}" class="course-title">{{ course.title }}</a>
        <div class="course-info">
          {% if course.level == 'beginner' %}
          <div class="course-level beginner-level">
            <i class="fa-solid fa-signal"></i> {{ course.get_level_display }}
          </div>
          {% elif course.level == 'intermediate' %}
          <div class="course-level intermediate-level">
            <i class="fa-solid fa-signal"></i> {{ course.get_level_display }}
          </div>
          {% else %}
          <div class="course-level advanced-level">
            <i class="fa-solid fa-signal"></i> {{ course.get_level_display }}
          </div>
          {% endif %}
        </div>
        <div class="progress-container">
          <div class="progress-bar-bg">
            <div class="progress-bar-fill" style="width: 65%;"></div>
          </div>
          <span class="progress-text">65%</span>
        </div>
        <a class="card-btn btn-transform" href="{% url 'course_detail' course.slug %}">Continue</a>
      </div>
    </div>
    {% endfor %}
  </div>
  <h1 class="page-title">Other courses</h1>
  <div class="course-grid">
    {% if unenrolled_courses %}
    {% for course in unenrolled_courses %}
    <div class="course-card">
      <div class="card-header">
        <i class="fa-solid fa-earth-americas"></i>
      </div>
      <div class="card-body">
        <a href="{% url 'course_detail' course.slug %}" class="course-title">{{ course.title }}</a>
        <div class="course-info">
          {% if course.level == 'beginner' %}
          <div class="course-level beginner-level">
            <i class="fa-solid fa-signal"></i> {{ course.get_level_display }}
          </div>
          {% elif course.level == 'intermediate' %}
          <div class="course-level intermediate-level">
            <i class="fa-solid fa-signal"></i> {{ course.get_level_display }}
          </div>
          {% else %}
          <div class="course-level advanced-level">
            <i class="fa-solid fa-signal"></i> {{ course.get_level_display }}
          </div>
          {% endif %}
        </div>
        <a class="card-btn btn-transform" href="{% url 'course_detail' course.slug %}">Batafsil</a>
      </div>
    </div>
    {% endfor %}
    {% else %}
    <p>There is no courses left</p>
    {% endif %}
  </div>
  {% else %}
  <h1 class="page-title">All courses</h1>
  <div class="course-grid">
    {% for course in courses %}
    <div class="course-card">
      <div class="card-header">
        <i class="fa-solid fa-earth-americas"></i>
      </div>
      <div class="card-body">
        <a href="{% url 'course_detail' course.slug %}" class="course-title">{{ course.title }}</a>
        <div class="course-info">
          {% if course.level == 'beginner' %}
          <div class="course-level beginner-level">
            <i class="fa-solid fa-signal"></i> {{ course.get_level_display }}
          </div>
          {% elif course.level == 'intermediate' %}
          <div class="course-level intermediate-level">
            <i class="fa-solid fa-signal"></i> {{ course.get_level_display }}
          </div>
          {% else %}
          <div class="course-level advanced-level">
            <i class="fa-solid fa-signal"></i> {{ course.get_level_display }}
          </div>
          {% endif %}
        </div>
        <a class="card-btn btn-transform" href="{% url 'course_detail' course.slug %}">See details</a>
      </div>
    </div>
    {% endfor %}
  </div>
  {% endif %}
</main>
{% endblock content %} 
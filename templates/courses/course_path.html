
{% extends '../shared/_base.html' %}
{% block title %} Kurslar {% endblock %}
{% block content %}
{% load static %}
{% load i18n %}
<main class="course-path-wrapper">
    <div class="course-path">
            {% for section in sections %}
            <div class="unit-header">
                <div class="unit-info">
                    <h2>Unit {{ section.order }}</h2>
                    <p>{{ section.title }}</p>
                </div>
                <a class="unit-info-btn btn-transform"><i class="fa-solid fa-book"></i>Handbook</a>
            </div>
            
            <div class="path-nodes">
                {% for lesson in section.lessons.all %}
                    <div class="level-row">
                        <div class="level-item">
                            {% if lesson.state == "completed" %}
                            <a class="circle-btn btn-transform status-completed" href="{% url 'lesson_detail' course.slug lesson.slug %}">
                                <i class="fa-solid fa-check"></i>
                            </a>
                            {% elif lesson.state == "started" %}
                            <div class="start-bubble">Start</div>
                            <div class="ring-container">
                                <svg class="progress-svg" viewBox="0 0 100 100">
                                    <circle class="ring-track" cx="50" cy="50" r="43" fill="none" stroke-width="7" />
                                    <circle class="ring-fill" cx="50" cy="50" r="43" fill="none" stroke-width="7" />
                                </svg>
                                <div class="circle-btn status-active">ðŸ“Š</div>
                            </div>
                            {% else %}
                            <a class="circle-btn btn-transform status-uncompleted" href="{% url 'lesson_detail' course.slug lesson.slug %}">
                                <i class="fa-solid fa-o"></i>
                            </a>
                            {% endif %}
                            <div class="tooltip">{{ lesson.title }}</div>
                        </div>
                    </div>
                {% endfor %}

                <div style="position: absolute; left: 20px; top: 250px; z-index: -1; opacity: 1;">
                    <img src="nova.jpg" alt="" style="width: 220px;">
                </div>

            </div>
            {% endfor %}
    </div>

    <aside class="right-panel">
            <div class="course-card">
                
                <div class="card-header">
                    <div class="course-name">{{ course.title }}</div>
                    <div class="percent-badge">65%</div>
                </div>

                <div class="progress-container">
                    <div class="progress-bar-fill" style="width: 65%;"></div>
                </div>

                <div class="cert-section">
                    <div class="cert-icon">ðŸ“œ</div>
                    <div class="cert-details">
                        <span class="cert-title">Course Certificate</span>
                        <span class="cert-status">Finish course to unlock</span>
                    </div>
                </div>

            </div>

            <div class="card cheat-sheet">
                <div class="cheat-header">
                    <span><i class="fa-solid fa-lightbulb"></i></span>
                    <span>Cheat Sheet</span>
                </div>
                <p class="note-text">
                    <strong>Pro Tip:</strong> When using <code>position: sticky</code>, ensure the parent container doesn't have <code>overflow: hidden</code> set, or it won't work!
                </p>
            </div>
    </aside>
</main>
{% endblock content %} 